/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
!function r(d,s,a){function u(o,e){if(!s[o]){if(!d[o]){var i="function"==typeof require&&require;if(!e&&i)return i(o,!0);if(c)return c(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var n=s[o]={exports:{}};d[o][0].call(n.exports,function(e){return u(d[o][1][e]||e)},n,n.exports,r,d,s,a)}return s[o].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,o,i){"use strict";mejs.i18n.en["mejs.a11y-video-description"]="Toggle sign language",mejs.i18n.en["mejs.a11y-audio-description"]="Toggle audio description",Object.assign(mejs.MepDefaults,{videoDescriptionToggled:!1,audioDescriptionToggled:!1,defaultSource:null,audioDescriptionSource:null,videoDescriptionSource:null,isPlaying:!1,isVoiceover:!1}),Object.assign(MediaElementPlayer.prototype,{builda11y:function(){var e=this;e.options.defaultSource=this.node.src,e.options.audioDescriptionSource=e._loadSourceFromAttribute("data-audio-description"),e.options.videoDescriptionSource=e._loadSourceFromAttribute("data-video-description"),e.options.audioDescriptionSource&&e._createAudioDescription(),e.options.videoDescriptionSource&&e._createVideoDescription(),e.node.addEventListener("play",function(){return e.options.isPlaying=!0}),e.node.addEventListener("playing",function(){return e.options.isPlaying=!0}),e.node.addEventListener("pause",function(){return e.options.isPlaying=!1}),e.node.addEventListener("ended",function(){return e.options.isPlaying=!1})},_createAudioDescription:function(){var e=this,o=mejs.i18n.t("mejs.a11y-audio-description"),i=document.createElement("div");i.className=e.options.classPrefix+"button "+e.options.classPrefix+"audio-description-button",i.innerHTML='<button type="button" aria-controls="'+e.id+'" title="'+o+'" aria-label="'+o+'" tabindex="0"></button>',e.addControlElement(i,"audio-description"),i.addEventListener("click",function(){e.options.audioDescriptionToggled=!e.options.audioDescriptionToggled,mejs.Utils.toggleClass(i,"audio-description-on"),e._toggleAudioDescription()})},_createVideoDescription:function(){var e=this,o=mejs.i18n.t("mejs.a11y-video-description"),i=document.createElement("div");i.className=e.options.classPrefix+"button "+e.options.classPrefix+"video-description-button",i.innerHTML='<button type="button" aria-controls="'+e.id+'" title="'+o+'" aria-label="'+o+'" tabindex="0"></button>',e.addControlElement(i,"video-description"),i.addEventListener("click",function(){e.options.videoDescriptionToggled=!e.options.videoDescriptionToggled,mejs.Utils.toggleClass(i,"video-description-on"),e._toggleVideoDescription()})},_loadSourceFromAttribute:function(o){if(!this.node.hasAttribute(o))return null;var e,i=void 0;try{var t=this.node.getAttribute(o);i=JSON.parse(t)}catch(e){console.error("error loading "+o+": "+e.message)}finally{e=i}return e?this._evaluateBestMatchingSource(e):null},_evaluateBestMatchingSource:function(e){var o=this,i=function(e){return o.node.canPlayType(e)},t=e.filter(function(e){return"probably"===i(e.type)});if(0<t.length)return t[0].src;var n=e.filter(function(e){return"maybe"===i(e.type)});return 0<n.length?n[0].src:null},_createAudioDescriptionPlayer:function(){console.log("creating audio player");var e=this,o=document.createElement("audio");o.setAttribute("src",e.options.audioDescriptionSource),o.setAttribute("preload","metadata"),o.setAttribute("playsinline",""),o.setAttribute("controls",""),document.body.appendChild(o),o.load(),o.muted=!0,o.play().then(function(){e.audioDescriptionNode.currentTime=e.node.currentTime,e.options.isPlaying||o.pause()}).catch(function(e){return console.error(e)}),(e.audioDescriptionNode=o).addEventListener("loadeddata",function(){return console.info("loadeddata")}),o.addEventListener("loadstart",function(){return console.info("loadstart")}),e.node.addEventListener("play",function(){e.audioDescriptionNode.currentTime=e.node.currentTime,e.audioDescriptionNode.play().catch(function(e){return console.error(e)})}),e.audioDescriptionNode.addEventListener("play",function(){return e.audioDescriptionNode.currentTime=e.node.currentTime}),e.node.addEventListener("seeked",function(){return e.audioDescriptionNode.currentTime=e.node.currentTime}),e.node.addEventListener("pause",function(){return e.audioDescriptionNode.pause()}),e.node.addEventListener("ended",function(){return e.audioDescriptionNode.pause()})},_toggleAudioDescription:function(){var e=this;e.audioDescriptionNode||e._createAudioDescriptionPlayer(),e.options.audioDescriptionToggled?(e.audioDescriptionNode.volume=e.node.volume,e.node.muted=!0,e.audioDescriptionNode.muted=!1,e.options.isPlaying&&e.audioDescriptionNode.play().catch(function(e){return console.error(e)})):(e.audioDescriptionNode.muted=!0,e.node.muted=!1,e.audioDescriptionNode.pause())},_toggleVideoDescription:function(){var e=this,o=e.node.currentTime,i=e.options.isPlaying,t=e.options.videoDescriptionToggled;e.node.pause(),e.node.setSrc(t?e.options.videoDescriptionSource:e.options.defaultSource),e.node.load(),e.node.setCurrentTime(o),i&&e.node.play()}})},{}]},{},[1]);